<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui">
    <h:head>
        <title>Facelet Title</title>
    </h:head>  
    <body>
        <h:form>
            <br></br>

        </h:form>
        <h:form >
            <p:outputLabel>Suas Vagas Cadastradas</p:outputLabel>

            <p:dataTable var ="v" value ="#{loginControler.findVagasCadastradas()}">

                <p:column>
                    <f:facet name="header"> Empresa </f:facet>
                    <h:outputText value="#{v.empresa}" ></h:outputText>
                </p:column>
                     <p:column>
                    <f:facet name="header"> Requisito </f:facet>
                    <h:outputText value="#{v.requisitos}" ></h:outputText>
                </p:column>
                     <p:column>
                    <f:facet name="header"> Salario </f:facet>
                    <h:outputText value="#{v.salario}" ></h:outputText>
                </p:column>
                     <p:column>
                    <f:facet name="header"> Local Trabalho </f:facet>
                    <h:outputText value="#{v.requisitos}" ></h:outputText>
                </p:column>
                     <p:column>
                    <f:facet name="header"> Horario </f:facet>
                    <h:outputText value="#{v.horario}" ></h:outputText>
                </p:column>
                <p:column>
                    <f:facet name="header"> area </f:facet>
                    <h:outputText value="#{v.area}" ></h:outputText>
                </p:column>

                <p:column>
                    <f:facet name="header"> Opcao </f:facet>
                    <h:commandLink value="Delete" action="#{VagaControler.delete(v)}"  
                                   onclick="return confirm('voce tem certeza?')"></h:commandLink>
                </p:column>       
                <p:column>
                    <f:facet name="header"> curriculo </f:facet>
                    <h:commandLink value="Cadastrados" action="#{VagaControler.goToCurriculoVaga(v)}"></h:commandLink>
                </p:column>
            </p:dataTable>
            <br></br>
            <h:messages/>
        </h:form> 
        <br></br>
         <h:button value="Add nova vaga"  outcome="add"></h:button>
        <br></br>


        <h:form> 
            <p:outputLabel>Vagas na sua area</p:outputLabel>
            <p:dataTable var ="v" value ="#{loginControler.findVagaArea()}">

                       <p:column>
                    <f:facet name="header"> Empresa </f:facet>
                    <h:outputText value="#{v.empresa}" ></h:outputText>
                </p:column>
                     <p:column>
                    <f:facet name="header"> Requisito </f:facet>
                    <h:outputText value="#{v.requisitos}" ></h:outputText>
                </p:column>
                     <p:column>
                    <f:facet name="header"> Salario </f:facet>
                    <h:outputText value="#{v.salario}" ></h:outputText>
                </p:column>
                     <p:column>
                    <f:facet name="header"> Local Trabalho </f:facet>
                    <h:outputText value="#{v.requisitos}" ></h:outputText>
                </p:column>
                     <p:column>
                    <f:facet name="header"> Horario </f:facet>
                    <h:outputText value="#{v.horario}" ></h:outputText>
                </p:column>
                <p:column>
                    <f:facet name="header"> area </f:facet>
                    <h:outputText value="#{v.area}" ></h:outputText>
                </p:column>
                <p:column>
                    <f:facet name="header"> Disp </f:facet>
                    <h:commandLink value="Disponivel" action="#{loginControler.inscreverSe(v.codVagas)}" ></h:commandLink>
                </p:column>     


            </p:dataTable>
            <br></br>
            <h:messages/>
        </h:form>






        <h:form> 
            <p:outputLabel>Seu Curriculo</p:outputLabel>
            <p:dataTable var ="c" value ="#{loginControler.findById()}" >

                <p:column>
                    <f:facet name="header"> Nome </f:facet>
                    <h:outputText value="#{c.nome}" ></h:outputText>
                </p:column>
                <p:column>
                    <f:facet name="header"> Area </f:facet>
                    <h:outputText value="#{c.area}" ></h:outputText>
                </p:column>
                <p:column>
                    <f:facet name="header"> Empresa </f:facet>
                    <h:outputText value="#{c.empresa}" ></h:outputText>
                </p:column>
                     <p:column>
                    <f:facet name="header"> Experiencia </f:facet>
                    <h:outputText value="#{c.experiencia}" ></h:outputText>
                </p:column>
                     <p:column>
                    <f:facet name="header"> Formacao </f:facet>
                    <h:outputText value="#{c.formacao}" ></h:outputText>
                </p:column>
                <p:column>
                    <f:facet name="header"> Opcao </f:facet>
                    <h:commandLink value="Edit" action="#{usuLogado.editCurriculo(c)}" ></h:commandLink>
                </p:column>

            </p:dataTable>
            <br></br>
            <p:messages/>
        </h:form>

        <h:form>
            <h:button  outcome="addCurriculo" value="Crie seu Curriculo" title="Crie seu Curriculo" />
            <br></br>

           
            <br></br>
            <h:commandButton  value="Logout" action="#{loginControler.logout()}" ></h:commandButton>

        </h:form>
    </body>
</html>

